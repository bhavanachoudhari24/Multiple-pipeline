pipeline {
    agent any

    options {
        skipDefaultCheckout(true)
    }

    triggers {
        githubPush()     // GitHub webhook trigger
    }

  stages{
        stage("checkout"){
            steps{
            echo "code checkout"
            checkout scmGit(branches: [[name: '*/main']], extensions: [], userRemoteConfigs: [[credentialsId: 'bhavanachoudhari24', url: 'https://github.com/bhavanachoudhari24/Multiple-pipeline.git']])
            echo "code checkout successful-11"
        }}

        stage('Build Only If service_3 Changed') {
            when {
                changeset "service_3/**"
            }
            steps {
                echo "Building the project 3 because service_3 changed..."
            }
        }
            stage('Skip logic') {
            when { not { changeset "service_3/**" } }
            steps {
                echo "No changes in service_3 â€” pipeline will end"
            }
    }
    }
}